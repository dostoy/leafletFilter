var endDate = new Date();
endDate.setUTCHours(0, 0, 0, 0);

var map = L.map('map', {
    zoom: 5,
    maxZoom: 9,
    fullscreenControl: true,
    center: [38.705, 1.15],
    timeDimension: true,
    timeDimensionControl: true,
    timeDimensionOptions: {
        timeInterval: "2012-05-08/" + endDate.format('yyyy-dd-mm'),
        period: "P1D"
    }
});

var template =
    "//map1{s}.vis.earthdata.nasa.gov/wmts-webmerc/" +
    "{layer}/default/{time}/{tileMatrixSet}/{z}/{y}/{x}.jpg";

var wmtsLayer = new L.tileLayer(template, {
    layer: "MODIS_Terra_CorrectedReflectance_TrueColor",
    tileMatrixSet: "GoogleMapsCompatible_Level9",
    maxZoom: 9,    
    tileSize: 256,
    subdomains: "abc",
    noWrap: true,
    continuousWorld: true,
    bounds: [
        [-85.0511287776, -179.999999975],
        [85.0511287776, 179.999999975]
    ],
    attribution: "<a href='https://earthdata.nasa.gov/gibs'>NASA EOSDIS GIBS</a>"
});

var wmtsTimeLayer = L.timeDimension.layer.wmts(wmtsLayer, {});
map.addLayer(wmtsTimeLayer);